---
ec2_RunInstances:
  title: Use New-EC2Instance
  title_abbrev: New-EC2Instance
  synopsis: use New-EC2Instance
  languages:
    PowerShell:
      versions:
      - sdk_version: 4
        sdk_action: New-EC2Instance
        excerpts:
        - description: '<emphasis role="bold">Example 1: This example launches a single instance of the specified AMI in EC2-Classic or a default VPC.</emphasis>'
          snippet_files: []
        - description:
          snippet_files:
          - .doc_gen/snippet_files/ec2_New-EC2Instance.1.1.ps1
        - description: '<emphasis role="bold">Example 2: This example launches a single instance of the specified AMI in a VPC.</emphasis>'
          snippet_files: []
        - description:
          snippet_files:
          - .doc_gen/snippet_files/ec2_New-EC2Instance.2.1.ps1
        - description: '<emphasis role="bold">Example 3: To add an EBS volume or an instance store volume, define a block device mapping and add it to the command. This example adds an instance store volume.</emphasis>'
          snippet_files: []
        - description:
          snippet_files:
          - .doc_gen/snippet_files/ec2_New-EC2Instance.3.1.ps1
        - description: '<emphasis role="bold">Example 4: To specify one of the current Windows AMIs, get its AMI ID using Get-EC2ImageByName. This example launches an instance from the current base AMI for Windows Server 2016.</emphasis>'
          snippet_files: []
        - description:
          snippet_files:
          - .doc_gen/snippet_files/ec2_New-EC2Instance.4.1.ps1
        - description: '<emphasis role="bold">Example 5: Launches an instance into the specified dedicated host environment.</emphasis>'
          snippet_files: []
        - description:
          snippet_files:
          - .doc_gen/snippet_files/ec2_New-EC2Instance.5.1.ps1
        - description: '<emphasis role="bold">Example 6: This request launches two instances and applies a tag with a key of webserver and a value of production to the instances. The request also applies a tag with a key of cost-center and a value of cc123 to the volumes that are created (in this case, the root volume for each instance).</emphasis>'
          snippet_files: []
        - description:
          snippet_files:
          - .doc_gen/snippet_files/ec2_New-EC2Instance.6.1.ps1
        - description: '<emphasis role="bold">Example 7: This example validates permissions for launching an EC2 instance using the DryRun parameter without actually creating the instance. Note: This throws an exception if succeeded which is the expected behavior. </emphasis>'
          snippet_files: []
        - description:
          snippet_files:
          - .doc_gen/snippet_files/ec2_New-EC2Instance.7.1.ps1
  services:
    ec2:
      RunInstances:

